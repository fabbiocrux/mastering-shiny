---
title: "Mastering shiny"
output: learnr::tutorial
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)
knitr::opts_chunk$set(echo = FALSE)
library(shiny)
```


## Ch1: My first Shiny app

### Exercise 1

This is the most basic Shiny App. It contains `UI` and a `Server` elements. 

```{r}
ui <- fluidPage(
  "Hello, world!"
)
server <- function(input, output, session) {
}
shinyApp(ui, server)
```



### Exercise 2

For th `UI`, we add some elements in the panel

```{r}
ui <- fluidPage(
  selectInput("dataset", label="Dataset", choices = ls("package:datasets")),
  verbatimTextOutput("summary"),
  tableOutput("table")
)
server <- function(input, output, session) {
}
shinyApp(ui, server)
```

## Exercise 3

Adding functions to thee `server` to plot the 

```{r}
ui <- fluidPage(
  selectInput("dataset", label="Dataset", choices = ls("package:datasets")),
  verbatimTextOutput("summary"),
  tableOutput("table")
)
server <- function(input, output, session) {
  
  # Output para la el 'verbatim' summary
  output$summary <- renderPrint({
    dataset <- get(input$dataset, "package:datasets")
    summary(dataset)
  })
  
  # Output para la table
  output$table <- renderTable({
    dataset <- get(input$dataset, "package:datasets")
    dataset
  })
}
shinyApp(ui, server)
```


### Exercise 4: Optimizing with `Reactive` expresions

Giving the fact that we duplicate the `get(input$dataset, "package:datasets")` expression, we can use a variable to do this beforehand.


```{r}
ui <- fluidPage(
  selectInput("dataset", label="Dataset", choices = ls("package:datasets")),
  verbatimTextOutput("summary"),
  tableOutput("table")
)
server <- function(input, output, session) {
  
  # Reactive expression for the input
  
  dataset <- reactive({
    get(input$dataset, "package:datasets")
  })
  
  # Output para la el 'verbatim' summary
  output$summary <- renderPrint({
    summary(dataset())
  })
  
  # Output para la table
  output$table <- renderTable({
    dataset()
  })
}
shinyApp(ui, server)
```


## Ch2: Basic UI

### Inputs

The inputs have:

1. `inputID`: Single name that connect with the `server`. It must be unique
2. `label`: Create a human-readable label for the control
3. `value`: the value of that input. 

```{r}
ui <- fluidPage(
  selectInput("dataset", label="Dataset", choices = ls("package:datasets")),
  verbatimTextOutput("summary"),
  tableOutput("table"),
  
  # Type of Inputs
  ## Slider
  sliderInput("min", "Limit (minimum)", value = 50, min = 0, max = 100),
  
  ## Free text
  textInput("name", "What's your name?"),
  passwordInput("password", "What's your password?"),
  textAreaInput("story", "Tell me about yourself", row=3),
  
  
  # Numeric Inputs
  numericInput("num", "Number one", value=0, min=0, max=100),
  sliderInput("num2", "Number two", value=0, min=0, max=100),
  sliderInput("rang", "Range of values", value = c(10,20), min = 0, max = 100)
  
)
server <- function(input, output, session) {
  
  # Reactive expression for the input
  
  dataset <- reactive({
    get(input$dataset, "package:datasets")
  })
  
  # Output para la el 'verbatim' summary
  output$summary <- renderPrint({
    summary(dataset())
  })
  
  # Output para la table
  output$table <- renderTable({
    dataset()
  })
}
shinyApp(ui, server)
```



```
















































